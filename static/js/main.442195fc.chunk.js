(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(19)},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(6),o=a.n(c),l=a(2),s=a.n(l),i=a(3),u=a(1),m={set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}};function d(e,t){var a=m.get(e),r=Object(n.useState)(a||t),c=Object(u.a)(r,2),o=c[0],l=c[1];return a||m.set(e,t),[o,Object(n.useCallback)(function(t){return m.set(e,t),l(t)},[l,e])]}a(14);var f={title:"",url:"",link:"",description:{title:"",location:"",photographer:"",source:""}},p=Object(n.createContext)(f),h=Object(n.createContext)({loading:!0,changePhoto:function(){}});function v(e){var t=e.children,a=d("lastUpadte",0),c=Object(u.a)(a,2),o=c[0],l=c[1],m=d("currentPhoto",f),v=Object(u.a)(m,2),g=v[0],E=v[1],b=Object(n.useState)(!1),j=Object(u.a)(b,2),O=j[0],w=j[1],y={backgroundImage:g?"url(".concat(g.url,")"):""},k=function(){var e=Object(i.a)(s.a.mark(function e(){var t,a,n,r,c=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.length>0&&void 0!==c[0]?c[0]:"random",w(!0),e.next=4,fetch("https://hello-data.amirs.dev/v1/photo/".concat("random"===t?"random":""));case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,(r=new Image).src=n.url,r.onload=function(){E(n),setTimeout(function(){w(!1)},1e3)};case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(n.useEffect)(function(){o+864e5>(new Date).getTime()||function(){var e=Object(i.a)(s.a.mark(function e(){var t,a;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://hello-data.amirs.dev/v1/photo");case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,E(a),l((new Date).getTime());case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[o,E,l]),r.a.createElement("div",{className:"Background",style:y},r.a.createElement(h.Provider,{value:{changePhoto:k,loading:O}},r.a.createElement(p.Provider,{value:g},t)))}function g(e){var t=e.date;return r.a.createElement("div",{className:"heading--1",id:"time-display"},t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).replace(/\s/,"").toLowerCase())}function E(e){var t=e.date;return r.a.createElement("div",{className:"heading--5",id:"date-display"},t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))}a(15);function b(){var e=Object(n.useState)(new Date),t=Object(u.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)(function(){var e=setTimeout(function(){c(new Date)},1e3);return function(){clearTimeout(e)}},[a]),r.a.createElement("header",{className:"d-flex justify-content-between align-items-center"},r.a.createElement("div",null,r.a.createElement(E,{date:a}),r.a.createElement(g,{date:a})))}a(16);var j=a(4),O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,a=d("stock-".concat(e),{upatedAt:0,price:"0",change:"0",changePercentage:"0",currency:"",symbol:"",state:"loading"}),r=Object(u.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)(function(){c.upatedAt+t>(new Date).getTime()||function(){var t=Object(i.a)(s.a.mark(function t(){var a,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://hello-data.amirs.dev/v1/stock/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,o(Object(j.a)({},n,{upatedAt:(new Date).getTime(),state:"loaded"})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),o(Object(j.a)({},c,{upatedAt:(new Date).getTime(),state:"loading"===c.state?"error":c.state}));case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(){return t.apply(this,arguments)}}()()},[c,o,t,e]),c};function w(e){var t=e.symbol,a=O(t),n=a.state,c=a.price,o=a.change,l=a.changePercentage,s=a.currency,i=a.symbol,u=Number(o),m=u<0?-1:u>0?1:0,d="loaded"===n?r.a.createElement("small",null,s||"USD"," ",o.replace(/-/,"\u2212")," (",l,"%)"):null,f="error"===n?r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-exclamation-circle error-icon"})):"loading"===n?r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-spinner fa-pulse"})):c,p=r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-angle-".concat(m<0?"down":"up"," ").concat("error"===n?"hide":"")}));return r.a.createElement("h5",{className:"heading--5 stock"},p,"\xa0",(i||t).toUpperCase()," ",f,"\xa0",d)}var y=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,a=d("crypto-".concat(e),{upatedAt:0,price:"",changePercentage:"",currency:"",name:"",symbol:"",logo:"",state:"loading"}),r=Object(u.a)(a,2),c=r[0],o=r[1];return Object(n.useEffect)(function(){c.upatedAt+t>(new Date).getTime()||function(){var t=Object(i.a)(s.a.mark(function t(){var a,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://hello-data.amirs.dev/v1/crypto/".concat(e));case 3:return a=t.sent,t.next=6,a.json();case 6:n=t.sent,o(Object(j.a)({},n,{upatedAt:(new Date).getTime(),state:"loaded"})),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),o(Object(j.a)({},c,{upatedAt:(new Date).getTime(),state:"loading"===c.state?"error":c.state}));case 13:case"end":return t.stop()}},t,null,[[0,10]])}));return function(){return t.apply(this,arguments)}}()()},[c,o,t,e]),c};function k(e){var t=e.handle,a=y(t),n=a.state,c=(a.name,a.price),o=a.changePercentage,l=a.currency,s=a.symbol,i=Number(o),u=i<0?-1:i>0?1:0,m="loaded"===n?r.a.createElement("small",null,l||"USD"," (",o.replace(/-/,"\u2212"),"%)"):null,d="error"===n?r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-exclamation-circle error-icon"})):"loading"===n?r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-spinner fa-pulse"})):c,f=r.a.createElement("small",null,r.a.createElement("i",{className:"fas fa-angle-".concat(u<0?"down":"up"," ").concat("error"===n?"hide":"")}));return r.a.createElement("h5",{className:"heading--5 stock"},f,"\xa0",(s||t).toUpperCase()," ",d,"\xa0",m)}function N(){var e=d("stock-list",["SHOP/nyse"]),t=Object(u.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(!1),l=Object(u.a)(o,2),s=l[0],i=l[1],m=Object(n.useState)(""),f=Object(u.a)(m,2),v=f[0],g=f[1],E=Object(n.useRef)(),b=Object(n.useContext)(p),j=Object(n.useContext)(h),O=j.loading,y=j.changePhoto,N=function(){c(v.split(",").map(function(e){return e.trim().toUpperCase()}).filter(Boolean)),i(!1)},x=b.description.location?r.a.createElement("span",{id:"location"},"| ",r.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",b.description.location):null,S=b.description.photographer?r.a.createElement("span",null,"Photo by ",r.a.createElement("a",{href:b.link},b.description.photographer)):null,C=b.description.source?r.a.createElement("span",null," via ",b.description.source):null,P=b.title===b.description.title?"":b.description.title,T=O?r.a.createElement("i",{className:"fas fa-spinner fa-pulse"}):r.a.createElement("i",{className:"fas fa-random"});return r.a.createElement("footer",null,r.a.createElement("div",{className:"d-flex justify-content-between align-items-end"},r.a.createElement("div",{id:"stock-list"},s&&r.a.createElement("i",{className:"fas fa-save save-stock",onClick:N}),s&&r.a.createElement("input",{ref:E,className:"input",type:"text",value:v,onChange:function(e){return g(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&N()},onBlur:N}),!s&&r.a.createElement("i",{className:"fas fa-edit remove-stock",onClick:function(){g(a.join(", ")),i(!0),setTimeout(function(){E&&E.current&&E.current.focus()},5)}}),!s&&a.map(function(e,t){if(e.startsWith("CRYPTO/")){var a=e.replace("CRYPTO/","");return r.a.createElement(k,{key:e+t,handle:a})}return r.a.createElement(w,{key:e+t,symbol:e})})),r.a.createElement("div",{id:"credits"},r.a.createElement("h1",{className:"heading--5"},b.title),r.a.createElement("p",{className:"body-text",id:"photographer"},S,x),r.a.createElement("p",{className:"body-text",id:"location"}))),r.a.createElement("div",{className:"d-flex justify-content-between align-items-center sep"},r.a.createElement("div",{id:"refresh-btn",className:O?"disabled":"",onClick:function(){y(O?"daily":"random")}},T," Shuffle"),r.a.createElement("a",{id:"burst-link",href:b.link},P," ",C)))}a(17);var x=function(){return r.a.createElement(v,null,r.a.createElement(b,null),r.a.createElement(N,null))};a(18),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(x,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[7,1,2]]]);
//# sourceMappingURL=main.442195fc.chunk.js.map