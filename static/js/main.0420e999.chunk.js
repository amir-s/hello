(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,,,,,,function(e,t,n){e.exports=n(18)},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(5),o=n.n(r),i=n(2),s=n.n(i),l=n(3),u=n(1),m={set:function(e,t){localStorage.setItem(e,JSON.stringify(t))},get:function(e){var t=localStorage.getItem(e);if(t)return JSON.parse(t)}};function f(e,t){var n=m.get(e),c=Object(a.useState)(n||t),r=Object(u.a)(c,2),o=r[0],i=r[1];return n||m.set(e,t),[o,Object(a.useCallback)(function(t){return m.set(e,t),i(t)},[i,e])]}n(13);var d={title:"",url:"",link:"",description:{title:"",location:"",photographer:"",source:""}},p=Object(a.createContext)(d),h=Object(a.createContext)({loading:!0,changePhoto:function(){}});function g(e){var t=e.children,n=f("lastUpadte",0),r=Object(u.a)(n,2),o=r[0],i=r[1],m=f("currentPhoto",d),g=Object(u.a)(m,2),b=g[0],v=g[1],E=Object(a.useState)(!1),j=Object(u.a)(E,2),w=j[0],k=j[1],O={backgroundImage:b?"url(".concat(b.url,")"):""},y=function(){var e=Object(l.a)(s.a.mark(function e(){var t,n,a,c,r=arguments;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"random",k(!0),e.next=4,fetch("https://bing-wp.herokuapp.com/".concat("random"===t?"random":""));case 4:return n=e.sent,e.next=7,n.json();case 7:a=e.sent,(c=new Image).src=a.url,c.onload=function(){v(a),setTimeout(function(){k(!1)},1e3)};case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)(function(){o+864e5>(new Date).getTime()||function(){var e=Object(l.a)(s.a.mark(function e(){var t,n;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://bing-wp.herokuapp.com");case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,v(n),i((new Date).getTime());case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[o,v,i]),c.a.createElement("div",{className:"Background",style:O},c.a.createElement(h.Provider,{value:{changePhoto:y,loading:w}},c.a.createElement(p.Provider,{value:b},t)))}function b(e){var t=e.date;return c.a.createElement("div",{className:"heading--1",id:"time-display"},t.toLocaleString("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).replace(/\s/,"").toLowerCase())}function v(e){var t=e.date;return c.a.createElement("div",{className:"heading--5",id:"date-display"},t.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}))}n(14);function E(){var e=Object(a.useState)(new Date),t=Object(u.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)(function(){var e=setTimeout(function(){r(new Date)},1e3);return function(){clearTimeout(e)}},[n]),c.a.createElement("header",{className:"d-flex justify-content-between align-items-center"},c.a.createElement("div",null,c.a.createElement(v,{date:n}),c.a.createElement(b,{date:n})))}n(15);var j=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4,n=f("stock-".concat(e),{upatedAt:0,price:"0",change:"0",changePercent:"0",sign:0}),c=Object(u.a)(n,2),r=c[0],o=c[1];return Object(a.useEffect)(function(){r.upatedAt+t>(new Date).getTime()||function(){var t=Object(l.a)(s.a.mark(function t(){var n,a,c,r,i,l;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://cloud.iexapis.com/stable/stock/".concat(e.toUpperCase(),"/quote?token=").concat("pk_d8e6c3793f0743d3bef721a8b58bab8e"));case 2:return n=t.sent,t.next=5,n.json();case 5:a=t.sent,c=k(a.latestPrice),r=k(a.change,!0),i=k(Math.abs(100*a.changePercent)),l=a.change<0?-1:a.change>0?1:0,o({upatedAt:(new Date).getTime(),price:c,change:r,changePercent:i,sign:l});case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}()()},[r,o,t,e]),r};function w(e){var t=e.symbol,n=j(t),a=n.price,r=n.change,o=n.changePercent,i=n.sign;return c.a.createElement("h5",{className:"heading--5 stock"},c.a.createElement("i",{className:"fas fa-angle-".concat(i<0?"down":"up")}),"\xa0",t.toUpperCase()," ",a,"\xa0",c.a.createElement("small",null,"USD ",r," (",o,"%)"," "))}var k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Number(e)<0,a=Math.abs(Number(e)).toFixed(2);return"".concat(n?"\u2212":t?"+":"").concat(a)};function O(){var e=f("stocks",["SHOP"]),t=Object(u.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)(!1),i=Object(u.a)(o,2),s=i[0],l=i[1],m=Object(a.useState)(""),d=Object(u.a)(m,2),g=d[0],b=d[1],v=Object(a.useRef)(),E=Object(a.useContext)(p),j=Object(a.useContext)(h),k=j.loading,O=j.changePhoto,y=function(){r(g.split(",").map(function(e){return e.trim().toUpperCase()}).filter(Boolean)),l(!1)},x=E.description.location?c.a.createElement("span",{id:"location"},"| ",c.a.createElement("i",{className:"fas fa-map-marker-alt"})," ",E.description.location):null,N=E.description.photographer?c.a.createElement("span",null,"Photo by ",c.a.createElement("a",{href:E.link},E.description.photographer)):null,S=E.description.source?c.a.createElement("span",null," via ",E.description.source):null,P=E.title===E.description.title?"":E.description.title,C=k?c.a.createElement("i",{className:"fas fa-spinner fa-pulse"}):c.a.createElement("i",{className:"fas fa-random"});return c.a.createElement("footer",null,c.a.createElement("div",{className:"d-flex justify-content-between align-items-end"},c.a.createElement("div",{id:"stock-list"},s&&c.a.createElement("i",{className:"fas fa-save save-stock",onClick:y}),s&&c.a.createElement("input",{ref:v,className:"input",type:"text",value:g,onChange:function(e){return b(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&y()},onBlur:y}),!s&&c.a.createElement("i",{className:"fas fa-edit remove-stock",onClick:function(){b(n.join(", ")),l(!0),setTimeout(function(){v&&v.current&&v.current.focus()},5)}}),!s&&n.map(function(e,t){return c.a.createElement(w,{key:e+t,symbol:e})})),c.a.createElement("div",{id:"credits"},c.a.createElement("h1",{className:"heading--5"},E.title),c.a.createElement("p",{className:"body-text",id:"photographer"},N,x),c.a.createElement("p",{className:"body-text",id:"location"}))),c.a.createElement("div",{className:"d-flex justify-content-between align-items-center sep"},c.a.createElement("div",{id:"refresh-btn",className:k?"disabled":"",onClick:function(){O(k?"daily":"random")}},C," Shuffle"),c.a.createElement("a",{id:"burst-link",href:E.link},P," ",S)))}n(16);var y=function(){return c.a.createElement(g,null,c.a.createElement(E,null),c.a.createElement(O,null))};n(17),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(c.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}],[[6,1,2]]]);
//# sourceMappingURL=main.0420e999.chunk.js.map